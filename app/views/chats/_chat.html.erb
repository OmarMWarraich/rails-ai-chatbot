<turbo-frame id="current-chat">
  <div id="<%= dom_id chat %>" class="container">
    <div id="history-area" class="h-full">
      <% unless chat.q_and_a.blank? %>
        <% chat.q_and_a.each do |question, answer|%>
          <div class='flex flex-row mb-2'>
            <div class='w-1/12'>
              You
            </div>
            <div class='w-11/12'>
              <%=simple_format question %>
            </div>
          </div>
          <div class='flex flex-row mb-2'>
            <div class='w-1/12'>
              OpenAI
            </div>
            <div class='w-11/12'>
              <%=simple_format answer %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= form_with(model: chat) do |form| %>
    <div class="flex items-center mb-3">
      <%= form.text_field :message, placeholder: 'Send a message', class: 'form-input flex-grow mr-2' %>
      <%= form.button class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-2' do %>
        <i class="bi bi-send"></i>
      <% end %>
    </div>
  <% end %>
</turbo-frame>
